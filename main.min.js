!function(t){function e(t,e){var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(t){return"function"==typeof r.body[t]&&(n=t,!0)});for(var a;t;){if(a=t.parentElement,a&&a[n](e))return a;t=a}return null}var n,a="http://media.suconghou.cn/trans.php?w=",o={},r=document,s={init:function(){var a=this;if(n=r.querySelector(".trans"),!n){var o=".trans{display:none;text-align:left;min-height:40px;min-width:75pt;position:absolute;max-width:5in;padding:10px 20px;line-height:1.7;box-shadow:0 0 5px #ddd;border-radius:5px;border:1px solid #b4cc83;background:#ebf4d8;margin-left:10px;margin-top:15px;font-family:lucida Grande,Verdana;font-size:9pt}.trans .tc_title{font-weight:700;font-size:1.2em}.trans .tc_type{color:#7a7a7a}",s=r.createElement("style");s.innerHTML=o,r.head.appendChild(s);var i=r.createElement("div");i.className="trans",r.body.appendChild(i),n=r.querySelector(".trans")}Element.prototype.on=Element.prototype.addEventListener,Element.prototype.off=Element.prototype.removeEventListener;var l=function(o){if(aa=o.target,!e(o.target,".trans")){var s=function(t){e(t.target,".trans")||(n.style.display="none",r.body.off("click",s))},i="";if(r.selection&&r.selection.createRange)i=r.selection.createRange().text;else{var l=t.getSelection();i=l.toString()}/^[a-zA-Z]{2,30}$/.test(i)&&a.get(i.toLowerCase(),function(t){n.innerHTML=t,n.style.top=o.pageY+"px",n.style.left=o.pageX+"px",n.style.display="block",r.body.on("click",s)})}};r.body.trans||r.body.on("dblclick",l)},get:function(t,e){var n=this,r=function(a){o[t]=a;var r=n.genHtml(a);r&&e(r,a)};return o[t]?r(o[t]):void this.getJSON(a+t,r)},getJSON:function(t,e){var n=new XMLHttpRequest;n.open("GET",t),n.onload=function(){e(JSON.parse(n.response))},n.send()},genHtml:function(t){if(t&&t.symbols&&t.symbols[0]&&t.symbols[0].parts&&t.symbols[0].parts.length){var e=[];t.symbols[0].parts.forEach(function(t,n){e.push("<span>"+(n+1)+'. </span><span class="tc_type">'+t.part+' </span><span class="tc_translate">'+t.means.join("; ")+"</span>")});var n=['<div class="tc_title">',t.word_name,"</div>","<div>",e.join("<br>"),"</div>"].join("");return n}}};s.init()}(window);